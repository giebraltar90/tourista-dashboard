
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boutique Tours Dashboard</title>
    <meta name="description" content="Boutique Tours Operations Dashboard" />
    <meta name="author" content="Lovable" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://boutiquetours-test.netlify.app/" />
    <meta property="og:title" content="Boutique Tours Dashboard" />
    <meta property="og:description" content="Boutique Tours Operations Dashboard" />
    <meta property="og:image" content="/og-image.png" id="og-image" />
    <meta property="og:image:url" content="/og-image.png" id="og-image-url" />
    <meta property="og:image:secure_url" content="/og-image.png" id="og-image-secure" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://boutiquetours-test.netlify.app/" />
    <meta property="twitter:title" content="Boutique Tours Dashboard" />
    <meta property="twitter:description" content="Boutique Tours Operations Dashboard" />
    <meta property="twitter:image" content="/og-image.png" id="twitter-image" />
    
    <link rel="icon" href="/favicon.ico" id="favicon" />
    <script>
      // This script will update the meta tags when settings are loaded
      window.updateMetaTags = function(ogImageUrl, faviconUrl) {
        if (ogImageUrl) {
          // Ensure we have an absolute URL
          const absoluteOgUrl = ogImageUrl.startsWith('http') 
            ? ogImageUrl 
            : `${window.location.origin}${ogImageUrl.startsWith('/') ? '' : '/'}${ogImageUrl}`;
            
          console.log("Using absolute OG image URL:", absoluteOgUrl);
            
          // Update all OG image meta tags
          const ogTags = [
            { id: 'og-image', property: 'og:image' },
            { id: 'og-image-url', property: 'og:image:url' },
            { id: 'og-image-secure', property: 'og:image:secure_url' },
            { id: 'twitter-image', property: 'twitter:image' }
          ];
          
          ogTags.forEach(tag => {
            const element = document.querySelector(`meta[property="${tag.property}"]`);
            if (element) {
              element.setAttribute('content', absoluteOgUrl);
              console.log(`Updated ${tag.property} meta tag to:`, absoluteOgUrl);
            } else {
              console.warn(`Meta tag ${tag.property} not found`);
            }
          });
        }
        
        if (faviconUrl) {
          const faviconElement = document.getElementById('favicon');
          if (faviconElement) {
            faviconElement.setAttribute('href', faviconUrl);
            console.log("Updated favicon to:", faviconUrl);
          }
        }
        
        // Force browser to refresh cached meta tags (important for link previews)
        const metaRefresh = document.createElement('meta');
        metaRefresh.httpEquiv = 'refresh';
        metaRefresh.content = '0';
        document.head.appendChild(metaRefresh);
        setTimeout(() => {
          document.head.removeChild(metaRefresh);
        }, 100);
      };
      
      // Expose a global debug function
      window.debugSeoSettings = function() {
        const ogImage = document.querySelector('meta[property="og:image"]')?.getAttribute('content');
        const favicon = document.getElementById('favicon')?.getAttribute('href');
        console.log('Current SEO settings:', {
          ogImage,
          favicon
        });
        return { ogImage, favicon };
      };
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
